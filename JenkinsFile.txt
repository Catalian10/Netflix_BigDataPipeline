pipeline {
    agent any

    stages {
        stage('Transfer Files') {
            steps {
                echo 'Running file transfer script...'
                sh 'python DataIngestion/Sqoop/fileTransfer.py'
            }
        }

        stage('Sqoop Full Load') {
            steps {
                echo 'Running Sqoop full load script...'
                sh 'python DataIngestion/Sqoop/sqoop_full_load.py'
            }
        }

        stage('Sqoop Incremental Load') {
            steps {
                echo 'Running Sqoop incremental load script...'
                sh 'python DataIngestion/Sqoop/sqoop_incremental_load.py'
            }
        }

        stage('Convert to Parquet') {
            steps {
                echo 'Converting to Parquet...'
                sh 'python DataTransformationFinal/ConvertParquetFile.py'
            }
        }

        stage('Data Processing') {
            steps {
                echo 'Running data processing script...'
                sh 'python DataTransformationFinal/dataprocessingFinal.py'
            }
        }

        stage('Movie Superset Processing') {
            steps {
                echo 'Running movie superset processing script...'
                sh 'python DataTransformationFinal/movieSupersetFinal.py'
            }
        }
        stage('Execute Hive Queries and Generate CSV') {
            steps {
                echo 'Executing Hive queries and generating CSV for data visualization...'
                sh 'python Hive/output/hivequeries.py' // Replace with your actual Python file name
            }
        }
        
        stage('Execute Data Visualization') {
            steps {
                echo 'Executing data visualization...'
                sh 'python DataVisualization/datavisualization.py' // Replace with your actual Python file name
            }
        }
    }

    post {
        always {
            echo 'Pipeline completed.'
        }
    }
}
